---
title: 剑指offer (4)
url: 548.html
id: 548
date: 2018-04-06 00:00:00
tags:
---

[](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#%E5%89%8D "前")前
------------------------------------------------------------------------------

网络方面的问题离不开 TCP/IP这玩意，所以这次做个详尽的总结

[](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#%E7%BD%91%E7%BB%9C "网络")网络
-----------------------------------------------------------------------------------------

### [](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#OSI%E6%A8%A1%E5%9E%8B "OSI模型")OSI模型

经典的协议栈模型，当属OSI和TCP/IP 这两种。这里的一幅图，很好的展示了这个协议的层次 ![协议](https://images2015.cnblogs.com/blog/983980/201611/983980-20161121173924409-1128983178.png)

> 图片引用自imyalost OSI模型分为**7层**， TCP/IP协议是**4层**，其中对应的关系也在途中很好的体现了出来。

协议栈之所以为栈，因为其工作过程中的自顶而下的逐层封装的特性，这种逐层封装在传输终端也会逐层的解析。所以这种协议模式也成为**对等协议**，IP(Internet Protocol) 在我们的TCP/IP的协议栈中。具体的情况如下

    应用层    http请求                    http请求传输层    TCP/UDP头(端口)            TCP头    http请求网络层    IP头    (IP地址)                IP头        TCP头    http请求链路层    MAC头(MAC地址)                MAC头    IP头        TCP头    http请求

所以协议栈自上而下是逐层封装的过程，各层也是负责其具体的职能 具体的层次之间的职能分共也是如下图所显示的。 ![作用](https://images2015.cnblogs.com/blog/983980/201611/983980-20161122175036159-1060298763.png)

> 图片引用自imyalost

对上图的内容进行总结的话，实际上在传输层实现了**端到端**的通信，在网络层是实现了**点到点**的通信，或者说是主机和主机。到了数据链路层，主要的就是控制我们的数据包流向，这里就有了路由协议。 路由是存在于网络层，交换机，和中继器处于数据链路层。 传输层的端到端数据段(segment).网络层是点到点的数据包(packet).数据链路层是网络节点间的通信，数据帧(frame).下面的物理层就是以比特为单位的电平了。

### [](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#TCP-UDP "TCP/UDP")TCP/UDP

1.  TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接
    
2.  TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付  
    Tcp通过校验和，重传控制，序号标识，滑动窗口、确认应答实现可靠传输。如丢包时的重发控制，还可以对次序乱掉的分包进行顺序控制。
    
3.  UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性有较高的通信或广播通信。
    
4.  每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
    
5.  TCP对系统资源要求较多，UDP对系统资源要求较少。
    

### [](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#TCP-IP%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7 "TCP/IP模型的安全性")TCP/IP模型的安全性

[](https://www.diglp.xyz/2018/04/06/%E5%89%91%E6%8C%87offer_4/#Q-amp-A "Q&A")Q&A
--------------------------------------------------------------------------------

**Q:** 完全使用TCP的协议是？ **A:** 这里需要注意的是 DNS 是同时涉及到**TPC和UDP**协议的，所以这里容易出错